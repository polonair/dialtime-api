{% extends 'MasterBundle::page.html.twig' %}
{% set _active = 'settings' %}

{% block head_title %}TargetCall | Настройки{% endblock %}

{% block stylesheets %}
  {{ parent() }}
  <style type="text/css">
    .nav-tabs>li>a>span.nav-tab-text { display: none; }
    .nav-tabs>li.active>a>span.nav-tab-text,
    .nav-tabs>li>a:hover>span.nav-tab-text { display: inline-block; }
  </style>
{% endblock %}

{% block content_header %}
  <h1>Настройки <small></small></h1>
  <ol class="breadcrumb">
    <li><a href="{{ path('master/homepage') }}"><i class="fa fa-home"></i>Главная страница</a></li>
    <li><a href="{{ path('master/dashboard') }}">Личный кабинет</a></li>
    <li class="active">Настройки</li>
  </ol>
{% endblock %}

{% block content %}
  <div class="nav-tabs-custom">
    <ul class="nav nav-tabs">
      <li><a href="{{ path('master/settings') }}"><i class="fa fa-gear"></i> <span class="nav-tab-text">Основные настройки</span></a></li>
      <li><a href="{{ path('master/phones') }}"><i class="fa fa-phone"></i> <span class="nav-tab-text">Номера телефонов</span></a></li>
      <li class="active"><a href="{{ path('master/schedules') }}"><i class="fa fa-clock-o"></i> <span class="nav-tab-text">Расписания</span></a></li>
    </ul>
    <div class="tab-content">
      <div id="carousel" class="carousel slide col-xs-12" data-ride="carousel" data-interval="false">
        <div class="carousel-inner" role="listbox">
          <div class="item active">
            <button id="add-phone" class="btn btn-primary btn-flat" type="submit"><i class="fa fa-plus"></i> Добавить расписание</button>
          </div>
          <div class="item">
            <form class="form-inline" method="post" action="{{ path('master/schedule/add') }}">
              <div class="form-group">
                <select class="form-control" name="from_dow">
                  <option value="0" selected="">С понедельника</option>
                  <option value="1">Со вторника</option>
                  <option value="2">Со среды</option>
                  <option value="3">С четверга</option>
                  <option value="4">С пятницы</option>
                  <option value="5">С субботы</option>
                  <option value="6">С воскресенья</option>
                </select>
              </div>
              <div class="form-group">
                <select class="form-control" name="to_dow">
                  <option value="0">по понедельник</option>
                  <option value="1">по вторник</option>
                  <option value="2">по среду</option>
                  <option value="3">по четверг</option>
                  <option value="4" selected="">по пятницу</option>
                  <option value="5">по субботу</option>
                  <option value="6">по воскресенье</option>
                </select>
              </div>
              <div class="form-group">
              	<select class="form-control" name="from_tod">
              	  <option value="0">с 0:00</option>
              	  <option value="1">с 1:00</option>
              	  <option value="2">с 2:00</option>
              	  <option value="3">с 3:00</option>
              	  <option value="4">с 4:00</option>
              	  <option value="5">с 5:00</option>
              	  <option value="6">с 6:00</option>
              	  <option value="7">с 7:00</option>
              	  <option value="8">с 8:00</option>
              	  <option value="9">с 9:00</option>
              	  <option value="10" selected="">с 10:00</option>
              	  <option value="11">с 11:00</option>
              	  <option value="12">с 12:00</option>
              	  <option value="13">с 13:00</option>
              	  <option value="14">с 14:00</option>
              	  <option value="15">с 15:00</option>
              	  <option value="16">с 16:00</option>
              	  <option value="17">с 17:00</option>
              	  <option value="18">с 18:00</option>
              	  <option value="19">с 19:00</option>
              	  <option value="20">с 20:00</option>
              	  <option value="21">с 21:00</option>
              	  <option value="22">с 22:00</option>
              	  <option value="23">с 23:00</option>
              	</select>
              </div>
              <div class="form-group">
                <select class="form-control" name="to_tod">
                  <option value="0">до 0:59</option>
                  <option value="1">до 1:59</option>
                  <option value="2">до 2:59</option>
                  <option value="3">до 3:59</option>
                  <option value="4">до 4:59</option>
                  <option value="5">до 5:59</option>
                  <option value="6">до 6:59</option>
                  <option value="7">до 7:59</option>
                  <option value="8">до 8:59</option>
                  <option value="9">до 9:59</option>
                  <option value="10">до 10:59</option>
                  <option value="11">до 11:59</option>
                  <option value="12">до 12:59</option>
                  <option value="13">до 13:59</option>
                  <option value="14">до 14:59</option>
                  <option value="15">до 15:59</option>
                  <option value="16">до 16:59</option>
                  <option value="17">до 17:59</option>
                  <option value="18" selected="">до 18:59</option>
                  <option value="19">до 19:59</option>
                  <option value="20">до 20:59</option>
                  <option value="21">до 21:59</option>
                  <option value="22">до 22:59</option>
                  <option value="23">до 23:59</option>
                </select>
              </div>
              <div class="form-group">
                <select class="form-control" name="tz">
                  <option value="120">по Калининградскому времени (MSK–1)</option>
                  <option value="180">по Московскому времени (MSK)</option>
                  <option value="240">по Самарскому времени (MSK+1)</option>
                  <option value="300">по Екатеринбургскому времени (MSK+2)</option>
                  <option value="360">по Омскому времени (MSK+3)</option>
                  <option value="420">по Красноярскому времени (MSK+4)</option>
                  <option value="480">по Иркутскому времени (MSK+5)</option>
                  <option value="540">по Якутскому времени (MSK+6)</option>
                  <option value="600">по Владивостокскому времени (MSK+7)</option>
                  <option value="660">по Среднеколымскому времени (MSK+8)</option>
                  <option value="720">по Камчатскому времени (MSK+9)</option>
                </select>
              </div>
              <div class="form-group">
                <button type="submit" class="btn btn-primary btn-flat">Добавить расписание</button>
              </div>
            </form>
          </div>
        </div>
      </div>
      <table class="table table-striped">
        <thead><tr>
          <th>#</th>
          <th></th>
        </tr></thead>
        <tbody>
          {% for schedule in schedules %}
            <tr>
              <td>{{ schedule.id }}</td>
              <td>{{ schedule|schedule() }}</td>
              <td>{{ schedule.timezone }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
{% endblock %}

{% block javascripts %}
  {{ parent() }}
  <script>
    $("button#add-phone").click(function(){ $(".carousel").carousel('next'); });
  </script>
{% endblock %}
